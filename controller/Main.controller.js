sap.ui.define(["eu/kuhnchris/artviewer/artViewer/controller/BaseController"],function(e){"use strict";return e.extend("eu.kuhnchris.artviewer.artViewer.controller.Main",{onInit:function(){var e=this.getOwnerComponent().getModel("rawList");var t=e.getObject("/");var a={files:[]};t.forEach(e=>{var t=e.substr(0,8);var r=new Date(t.substr(4,2)+"."+t.substr(6,2)+"."+t.substr(0,4));var i=r.toLocaleDateString();if(i==="Invalid Date")i=e.substr(0,e.length-0-4);else i="Art-Practice: "+i;var s="/art/"+e.substr(0,e.length-4)+"_thumb.png";a.files.push({URL:"/art/"+e,Filename:e,Date:r,Name:i,Thumbnail:s})});this._oViewer=this.byId("viewerJSObj");var r=this.getOwnerComponent().getModel("selected");this.setModel(r,"selected");var i=new sap.ui.model.json.JSONModel(a);this.setModel(i);this.getRouter().getRoute("ToImage").attachPatternMatched(this._onNavToImage,this)},_onNavToImage:function(e){var t=e.getParameter("arguments").name;this.pageParam=t},onAfterRendering:function(){if(this.pageParam!==undefined){var e=this.getModel().getObject("/");e.files.forEach(e=>{if(e.Filename===this.pageParam+".png"){this.getModel("selected").setData(e);this._oViewer.show()}})}},showArt:function(e){this.getModel("selected").setData(e.getParameter("listItem").getBindingContext().getObject());this._oViewer.show()}})});