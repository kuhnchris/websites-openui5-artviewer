sap.ui.define(["eu/kuhnchris/artviewer/artViewer/controller/BaseController"],function(e){"use strict";return e.extend("eu.kuhnchris.artviewer.artViewer.controller.Main",{onInit:function(){var e=this.getOwnerComponent().getModel("rawList");var t=e.getObject("/");var r={files:[]};t.forEach(e=>{var t=e.substr(3,8);var a=new Date(t.substr(4,2)+"."+t.substr(6,2)+"."+t.substr(0,4));r.files.push({URL:"./art/"+e.substr(3),Filename:e.substr(3),Date:a,Name:"Art-Practice: "+a.toLocaleDateString()})});this._oViewer=this.byId("viewerJSObj");var a=this.getOwnerComponent().getModel("selected");this.setModel(a,"selected");var s=new sap.ui.model.json.JSONModel(r);this.setModel(s);this.getRouter().getRoute("ToImage").attachPatternMatched(this._onNavToImage,this)},_onNavToImage:function(e){var t=e.getParameter("arguments").name;this.pageParam=t},onAfterRendering:function(){if(this.pageParam!==undefined){var e=this.getModel().getObject("/");e.files.forEach(e=>{if(e.Filename===this.pageParam+".kra.png"){this.getModel("selected").setData(e);this._oViewer.show()}})}},showArt:function(e){this.getModel("selected").setData(e.getParameter("listItem").getBindingContext().getObject());this._oViewer.show()}})});